пока что кривовато и надо прикрутить классы. в ближайшее время постараюсь разобраться.
а вообще работает
